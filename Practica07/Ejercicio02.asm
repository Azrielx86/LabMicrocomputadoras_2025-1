	processor 16f877
	include<p16f877.inc>

	ORG 0
	GOTO inicio
	ORG 5
inicio
	BSF STATUS,RP0
	BCF STATUS,RP1
	CLRF	TRISB
	BSF TXSTA,BRGH
	MOVLW D'129'
	MOVWF SPBRG

	BCF TXSTA,SYNC
	BSF TXSTA,TXEN
	BCF STATUS,RP0
	BSF RCSTA,SPEN
	BSF RCSTA,CREN
	CLRF PORTB

RECIBE:
	BTFSS PIR1,RCIF
	GOTO RECIBE

	MOVF RCREG,W
	MOVWF TXREG
	MOVWF	PORTB
	BSF STATUS,RP0

TRASMITE:
	BTFSS TXSTA,TRMT
	GOTO TRASMITE
	BCF STATUS,RP0
	GOTO RECIBE

END